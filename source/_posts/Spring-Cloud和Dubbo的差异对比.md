---
title: Spring Cloud和Dubbo的差异对比
date: 2019-08-01 17:07:57
tags: [Spring Cloud,Dubbo]
---
Dubbo，阿里巴巴服务化治理的核心框架，一款高性能的RPC框架，后捐献给apache基金会。

Spring Cloud，spring出品的一款微服务架构框架集，解决了在微服务部署中所遇到的大部分问题。

Spring Cloud 和 Dubbo作为当前市场主流的微服务框架，在不同的公司都有各自使用，针对两者的不同点极其各自的作用，现做出比较。

<!-- more -->
#### 注册中心

- Spring Cloud 使用 Eureka作为注册中心，同时也支持第三方注册中心，如Zookeeper，Nacos等。
- Dubbo 目前市场上一般采用Zookeeper作为注册中心，同样支持其他配置中心，如Multicast，Nacos,Redis等，官方推荐使用Zookeeper。

> Eureka和Zookeeper的比较不在本篇内容中，会单独另开一篇。

#### 调用方式

- Spring Cloud 采用rest调用，相比于 RPC，更加**轻量化和灵活**（服务之间只依赖一纸契约，不存在代码级别的强依赖），有利于**跨语言服务的实现**，以及服务的发布。
- Dubbo采用面向接口代理的高性能RPC调用，服务以接口为粒度，为开发者屏蔽远程调用底层细节。调用者需要引入服务提供者提供的jar包依赖，包含一定侵入性。

#### 通讯协议

- Spring Cloud 采用 **http restful**通讯协议， 但也不是强绑定，也可以使用 RPC 库，或者采用 HTTP 2.0 + 长链接方式，可以通过Fegin 可以灵活设置。。
- Dubbo 默认推荐通讯协议 **dubbo://**，除此外还可以采用 rmi://，hession://，http://，webservice://，thrift://，memcached://，redis://，rest://，具体差异点请参照附表**dubbo协议对比**。

#### 关注点

- Spring Cloud 全家桶解决了分布式中所遇到的大部分问题，包含了注册中心（Eureka），负载均衡器（Ribbon），客户端调用工具（REST和Feign），分布式配置中心（Config），服务保护熔断器（Hystrix）,服务网关（Zuul Gateway）,服务链路（Sleuth），消息总线（Bus）。
- Dubbo 只是实现服务治理，缺少分布式配置中心、网关、链路、总线等，如果需要用到这些组件，需要整合其他框架。

#### 总结

综上所述：无论是Spring  Cloud还是Dubbo都有着各自的优点和缺点，在使用Spring Cloud时，需要使用大量spring的组件，在学习使用过程中带来一定的学习成本。使用dubbo的话，仅仅使用dubbo自带的服务治理并不能满足我们要求，在配置中心，网关，链路等方面都需要单独开发，带来了一定的开发和运维成本。



附表：dubbo协议对比

| 协议          | 连接个数 | 连接方式 | 传输协议 | 传输方式    | 序列化               | 适用范围                                                     | 适用场景                               |
| ------------- | -------- | -------- | -------- | ----------- | -------------------- | ------------------------------------------------------------ | -------------------------------------- |
| dubbo://      | 单连接   | 长连接   | TCP      | NIO异步传输 | Hessian二进制序列化  | 传入传出数据包较小（建议小于100k）                           | 常规方法调用                           |
| rmi://        | 多连接   | 短连接   | TCP      | 同步传输    | Java标准二进制序列化 | 消费者与提供者个数差不多，可传文件                           | 常规方法调用                           |
| hessian://    | 多连接   | 短连接   | HTTP     | 同步传输    | Hessian二进制序列化  | 传入传出参数数据包较大，提供者比消费者个数多，提供者压力较大，可传文件 | 页面传输，文件传输                     |
| http://       | 多连接   | 短连接   | HTTP     | 同步传输    | 表单序列化           | 提供者比消费者个数多，可用表单或URL传入参数，暂不支持传文件  | 需同时给应用程序和浏览器 JS 使用的服务 |
| webservice:// | 多连接   | 短连接   | HTTP     | 同步传输    | SOAP文本序列化       |                                                              | 系统集成，跨语言调用                   |